<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>Encryption â€“ </title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="github-pandoc.css">
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <script src="../../laravel-docs/site.js"></script>
</head>
<body>
<aside><h1>Laravel 5.2 offline docs</h1><ul id="navigation">
<li><a href="artisan.html">Artisan Console</a>
<li><a href="authentication.html">Authentication</a>
<li><a href="authorization.html">Authorization</a>
<li><a href="billing.html">Laravel Cashier</a>
<li><a href="blade.html">Blade Templates</a>
<li><a href="cache.html">Cache</a>
<li><a href="collections.html">Collections</a>
<li><a href="configuration.html">Configuration</a>
<li><a href="container.html">Service Container</a>
<li><a href="contracts.html">Contracts</a>
<li><a href="contributing.html">Contribution Guidelines</a>
<li><a href="contributions.html">Contribution Guide</a>
<li><a href="controllers.html">HTTP Controllers</a>
<li><a href="database.html">Database: Getting Started</a>
<li><a href="documentation.html">Prologue</a>
<li><a href="elixir.html">Laravel Elixir</a>
<li><a href="eloquent-collections.html">Eloquent: Collections</a>
<li><a href="eloquent-mutators.html">Eloquent: Mutators</a>
<li><a href="eloquent-relationships.html">Eloquent: Relationships</a>
<li><a href="eloquent-serialization.html">Eloquent: Serialization</a>
<li><a href="eloquent.html">Eloquent: Getting Started</a>
<li><a href="encryption.html">Encryption</a>
<li><a href="envoy.html">Envoy Task Runner</a>
<li><a href="errors.html">Errors & Logging</a>
<li><a href="events.html">Events
</a>
<li><a href="facades.html">Facades</a>
<li><a href="filesystem.html">Filesystem / Cloud Storage</a>
<li><a href="hashing.html">Hashing</a>
<li><a href="helpers.html">Helper Functions</a>
<li><a href="homestead.html">Laravel Homestead</a>
<li><a href="installation.html">Installation</a>
<li><a href="lifecycle.html">Request Lifecycle</a>
<li><a href="localization.html">Localization</a>
<li><a href="mail.html">Mail
</a>
<li><a href="middleware.html">HTTP Middleware</a>
<li><a href="migrations.html">Database: Migrations</a>
<li><a href="packages.html">Package Development</a>
<li><a href="pagination.html">Pagination</a>
<li><a href="providers.html">Service Providers</a>
<li><a href="queries.html">Database: Query Builder</a>
<li><a href="queues.html">Queues</a>
<li><a href="quickstart-intermediate.html">Intermediate Task List</a>
<li><a href="quickstart.html">Basic Task List</a>
<li><a href="readme.html">Laravel Documentation</a>
<li><a href="redis.html">Redis</a>
<li><a href="releases.html">Release Notes</a>
<li><a href="requests.html">HTTP Requests</a>
<li><a href="responses.html">HTTP Responses</a>
<li><a href="routing.html">HTTP Routing</a>
<li><a href="scheduling.html">Task Scheduling</a>
<li><a href="seeding.html">Database: Seeding</a>
<li><a href="session.html">Session</a>
<li><a href="structure.html">Application Structure</a>
<li><a href="testing.html">Testing</a>
<li><a href="upgrade.html">Upgrade Guide</a>
<li><a href="valet.html">Laravel Valet</a>
<li><a href="validation.html">Validation
</a>
<li><a href="views.html">Views</a>
</ul></aside><article>
<h1 id="encryption">Encryption</h1>
<ul>
<li><a href="#configuration">Configuration</a></li>
<li><a href="#basic-usage">Basic Usage</a></li>
</ul>
<p><a name="configuration"></a></p>
<h2 id="configuration">Configuration</h2>
<p>Before using Laravel's encrypter, you should set the <code>key</code> option of your <code>config/app.php</code> configuration file to a 32 character, random string. If this value is not properly set, all values encrypted by Laravel will be insecure.</p>
<p><a name="basic-usage"></a></p>
<h2 id="basic-usage">Basic Usage</h2>
<h4 id="encrypting-a-value">Encrypting A Value</h4>
<p>You may encrypt a value using the <code>Crypt</code> <a href="facades.html">facade</a>. All encrypted values are encrypted using OpenSSL and the <code>AES-256-CBC</code> cipher. Furthermore, all encrypted values are signed with a message authentication code (MAC) to detect any modifications to the encrypted string.</p>
<p>For example, we may use the <code>encrypt</code> method to encrypt a secret and store it on an <a href="eloquent.html">Eloquent model</a>:</p>
<pre><code>&lt;?php

namespace App\Http\Controllers;

use Crypt;
use App\User;
use Illuminate\Http\Request;
use App\Http\Controllers\Controller;

class UserController extends Controller
{
    /**
     * Store a secret message for the user.
     *
     * @param  Request  $request
     * @param  int  $id
     * @return Response
     */
    public function storeSecret(Request $request, $id)
    {
        $user = User::findOrFail($id);

        $user-&gt;fill([
            &#39;secret&#39; =&gt; Crypt::encrypt($request-&gt;secret)
        ])-&gt;save();
    }
}</code></pre>
<blockquote>
<p><strong>Note:</strong> Encrypted values are passed through <code>serialize</code> during encryption, which allows for &quot;encryption&quot; of objects and arrays. Thus, non-PHP clients receiving encrypted values will need to <code>unserialize</code> the data.</p>
</blockquote>
<h4 id="decrypting-a-value">Decrypting A Value</h4>
<p>Of course, you may decrypt values using the <code>decrypt</code> method on the <code>Crypt</code> facade. If the value can not be properly decrypted, such as when the MAC is invalid, an <code>Illuminate\Contracts\Encryption\DecryptException</code> will be thrown:</p>
<pre><code>use Illuminate\Contracts\Encryption\DecryptException;

try {
    $decrypted = Crypt::decrypt($encryptedValue);
} catch (DecryptException $e) {
    //
}</code></pre>
</article>
</body>
</html>
